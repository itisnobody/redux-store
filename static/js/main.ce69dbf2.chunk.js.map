{"version":3,"sources":["reducers/updateBookList.js","reducers/updateShopingCart.js","reducers/index.js","store.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","components/bookstore-service-context/bookstore-service-context.js","services/bookstore-service.js","components/header/index.js","components/header/header.js","utils/compose.js","actions/index.js","components/hoc/with-bookstore-service.js","components/spinner/index.js","components/spinner/spinner.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","index.js"],"names":["updateBookList","state","action","undefined","books","loading","error","type","payload","bookList","updateOrder","bookId","quality","cartItems","shoppingCart","book","find","id","itemIndex","findIndex","newCartItems","item","idx","count","slice","updateCartItems","title","total","price","updateCartItem","numsTotal","length","orderTotal","sum","map","calcOrderTotal","updateShoppingCart","reducer","store","createStore","applyMiddleware","thunkMiddleware","ErrorIndicator","ErrorBoundary","props","this","setState","children","Component","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","BookstoreService","data","author","coverImage","Promise","resolve","reject","setTimeout","Header","connect","numItems","className","to","compose","funcs","comp","reduceRight","wrapped","f","bookAddedToCart","fetchBooks","bookstoreService","dispatch","getBooks","then","catch","booksError","withBookstoreService","Wrapped","Spinner","BookListItem","onAddedToCart","src","alt","onClick","BookList","BookListContainer","ownProps","bindActionCreators","HomePage","mapDispatchToProps","onIncrease","onDecrease","onDelete","CartTable","items","CartPage","App","role","path","component","exact","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.ce69dbf2.chunk.js","sourcesContent":["const updateBookList = (state, action) => {\n\n  if (state === undefined) {\n    return {\n      books: [],\n      loading: true,\n      error: null\n    };\n  }\n\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUESTED':\n      return {\n        loading: true,\n        error: null\n      };\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        books: action.payload,\n        loading: false,\n        error: null\n      };\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        loading: false,\n        error: action.payload\n      };\n    default:\n      return state.bookList;\n  }\n};\n\nexport default updateBookList;","const updateCartItem = (book, item = {}, quality) => {\n\n  const {\n    id = book.id,\n    title = book.title,\n    count = 0,\n    total = 0\n  } = item;\n\n  return {\n    id,\n    title,\n    count: count + quality,\n    total: total + quality * book.price\n  }\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n  if (item.count === 0) {\n    return [\n      ...cartItems.slice(0, idx),\n      ...cartItems.slice(idx + 1)\n    ];\n  } else if (idx < 0) {\n    return [\n      ...cartItems,\n      item\n    ];\n  } else {\n    return [\n      ...cartItems.slice(0, idx),\n      item,\n      ...cartItems.slice(idx + 1)\n    ];\n  }\n};\n\nconst updateOrder = (state, bookId, quality) => {\n  const { bookList: {books}, shoppingCart: {cartItems} } = state;\n\n  const calcOrderTotal = cartItems => {\n    let sum = 0;\n    cartItems.map(item => sum+= item.total);\n    return sum;\n  };\n\n  const book = books.find(book => book.id === bookId);\n  const itemIndex = cartItems.findIndex(book => book.id === bookId);\n  const item = cartItems[itemIndex];\n\n  const newItem = updateCartItem(book, item, quality);\n  const newCartItems = updateCartItems(cartItems, newItem, itemIndex);\n\n  return {\n    numsTotal: newCartItems.length,\n    orderTotal: calcOrderTotal(newCartItems),\n    cartItems: newCartItems\n  };\n};\n\nconst updateShoppingCart = (state, action) => {\n\n  if (state === undefined) {\n    return {\n      cartItems: [],\n      numsTotal: 0,\n      orderTotal: 0\n    };\n  }\n\n  switch (action.type) {\n    case 'BOOK_ADDED_TO_CART':\n      return updateOrder(state, action.payload, 1);\n    case 'BOOK_REMOVED_FROM_CART':\n      return updateOrder(state, action.payload, -1);\n    case 'ALL_BOOKS_REMOVED_FROM_CART':\n      const item = state.shoppingCart.cartItems.find(book => book.id === action.payload);\n      return updateOrder(state, action.payload, -item.count);\n    default:\n      return state.shoppingCart;\n  }\n};\n\nexport default updateShoppingCart;","import updateBookList from \"./updateBookList\";\nimport updateShoppingCart from \"./updateShopingCart\";\n\nconst reducer = (state, action) => {\n  return {\n    bookList: updateBookList(state, action),\n    shoppingCart: updateShoppingCart(state, action)\n  };\n};\n\nexport default reducer;","import { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nimport reducer from \"./reducers\";\n\nconst store = createStore(reducer, applyMiddleware(\n  thunkMiddleware));\n\nexport default store;","import ErrorIndicator from \"./error-indicator\";\n\nexport default ErrorIndicator;","import React from \"react\";\n\nconst ErrorIndicator = () => {\n  return (\n    <div>\n      <h3>Oppps...</h3>\n    </div>\n  );\n};\n\nexport default ErrorIndicator;","import ErrorBoundary from \"./error-boundary\";\n\nexport default ErrorBoundary;","import React, { Component } from \"react\";\n\nimport ErrorIndicator from \"../error-indicator\";\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false\n    };\n  }\n\n  componentDidCatch() {\n    this.setState({\n      error: true\n    });\n  }\n\n  render() {\n\n    if(this.state.error) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n};","import { createContext } from \"react\";\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer\n} = createContext();\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer\n};","export default class BookstoreService {\n  data = [\n    {\n      id: 1,\n      title: 'Production-Ready Microservices',\n      author: 'Susan J. Fowler',\n      price: 32,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'\n    },\n    {\n      id: 2,\n      title: 'Release It',\n      author: 'Michel T. Mygard',\n      price: 27,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'\n    }\n  ];\n\n  getBooks() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.data)\n        // reject(new Error('something went wrong'))\n      }, 1500);\n    });\n  }\n};","import Header from \"./header\";\n\nexport default Header;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./header.scss\";\n\nconst Header = ({numItems, total}) => {\n  return (\n    <header className={'header row'}>\n      <Link to={'/redux-store'}>\n        <div className={'logo text-dark'}>ReStore</div>\n      </Link>\n      <Link to={'/cart'}>\n        <div className={'header-cart'}>\n          <i className={'header-cart-icon fa fa-shopping-cart'}>\n            {numItems} items (${total})\n          </i>\n        </div>\n      </Link>\n    </header>\n  );\n};\n\nconst mapStateToProps = ({shoppingCart: {orderTotal, numsTotal}}) => {\n  return {\n    total: orderTotal,\n    numItems: numsTotal\n  };\n};\n\nexport default connect(mapStateToProps)(Header);","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp);\n};\n\nexport default compose;\n","const booksLoaded = newBooks => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nconst booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUESTED'\n  };\n};\n\nconst booksError = error => {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  };\n};\n\nconst bookAddedToCart = bookId => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  }\n};\n\nconst bookRemovedFromCart = bookId => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nconst allBookRemovedFromCart = bookId => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\n  dispatch(booksRequested());\n  bookstoreService.getBooks()\n    .then(data => dispatch(booksLoaded(data)))\n    .catch(error => dispatch(booksError(error)));\n}\n\n\n\nexport {\n  bookAddedToCart,\n  bookRemovedFromCart,\n  allBookRemovedFromCart,\n  fetchBooks\n};","import React from \"react\";\n\nimport { BookstoreServiceConsumer } from \"../bookstore-service-context\";\n\nconst withBookstoreService = Wrapped => {\n  return props => {\n    return (\n      <BookstoreServiceConsumer>\n        {\n          bookstoreService => {\n            return <Wrapped {...props} bookstoreService={bookstoreService} />;\n          }\n        }\n      </BookstoreServiceConsumer>\n    );\n  };\n};\n\nexport default withBookstoreService;","import Spinner from \"./spinner\";\n\nexport default Spinner;","import \"./spinner.scss\";\n\nconst Spinner = () => {\n  return (\n    <div className={'spinner-wrapper'}>\n      <div className=\"spinner\">\n        <div className=\"blob top\"></div>\n        <div className=\"blob bottom\"></div>\n        <div className=\"blob left\"></div>\n\n        <div className=\"blob move-blob\"></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;","import BookListItem from \"./book-list-item\";\n\nexport default BookListItem;","import React from \"react\";\n\nimport \"./book-list-item.scss\";\n\nconst BookListItem = ({book, onAddedToCart }) => {\n\n  const { title, author, price, coverImage } = book;\n\n  return (\n    <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"cover\" />\n      </div>\n      <div className=\"book-details\">\n        <span className=\"book-title\">{title}</span>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">${price}</div>\n        <button\n          className=\"btn btn-info add-to-cart\"\n          onClick={onAddedToCart}>Add to cart</button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookListItem;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport \"./book-list.scss\";\nimport { compose } from \"../../utils\";\nimport { fetchBooks, bookAddedToCart } from \"../../actions\";\nimport withBookstoreService from \"../hoc/with-bookstore-service\";\nimport Spinner from \"../spinner\";\nimport ErrorIndicator from \"../error-indicator\";\nimport BookListItem from \"../book-list-item\";\n\nconst BookList = ({books, onAddedToCart}) => {\n  return (\n    <ul className={'book-list'}>\n      {\n        books.map(book => {\n          const {id} = book;\n          return (\n            <li key={id}>\n              <BookListItem\n                book={book}\n                onAddedToCart={() => onAddedToCart(id)}/>\n            </li>\n          );\n        })\n      }\n    </ul>\n  );\n};\n\nclass BookListContainer extends Component {\n\n  componentDidMount() {\n    this.props.fetchBooks();\n  }\n\n  render() {\n    const {books, loading, error, onAddedToCart} = this.props;\n\n    if (error) {\n      return <ErrorIndicator/>;\n    }\n\n    if (loading) {\n      return <Spinner/>;\n    }\n\n    return <BookList\n      books={books}\n      onAddedToCart={onAddedToCart}/>;\n  }\n}\n\nconst mapStateToProps = ({bookList: {books, loading, error}}) => {\n  return {\n    books,\n    loading,\n    error\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const {bookstoreService} = ownProps;\n  return bindActionCreators({\n    fetchBooks: fetchBooks(bookstoreService),\n    onAddedToCart: bookAddedToCart\n  }, dispatch);\n}\n\nexport default compose(\n  withBookstoreService,\n  connect(mapStateToProps, mapDispatchToProps)\n)(BookListContainer);","import BookList from \"./book-list\";\n\nexport default BookList;","import React from \"react\";\n\nimport BookList from \"../book-list\";\n\nconst HomePage = () => (\n  <div>\n    <BookList />\n  </div>\n);\n\nexport default HomePage;","import React from 'react';\nimport { connect } from \"react-redux\";\n\nimport {\n  bookAddedToCart,\n  bookRemovedFromCart,\n  allBookRemovedFromCart\n} from \"../../actions\";\nimport './cart-table.scss';\n\nconst CartTable = ({items, total, onIncrease, onDecrease, onDelete}) => {\n\n  const renderRow = (item, idx) => {\n    const { id, title, count, total } = item;\n    return (\n      <tr key={id} >\n        <td>{idx+1}</td>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>${total}</td>\n        <td>\n          <button\n            className=\"btn btn-outline-danger btn-sm float-right\"\n            onClick={() => onDelete(id)}>\n            <i className=\"fa fa-trash-o\" />\n          </button>\n          <button\n            className=\"btn btn-outline-success btn-sm float-right\"\n            onClick={() => onIncrease(id)}>\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button\n            className=\"btn btn-outline-warning btn-sm float-right\"\n            onClick={() => onDecrease(id)}>\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n        </td>\n      </tr>\n    );\n  };\n\n  return (\n    <div className=\"cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n        <tr>\n          <th>#</th>\n          <th>Item</th>\n          <th>Count</th>\n          <th>Price</th>\n          <th>Action</th>\n        </tr>\n        </thead>\n\n        <tbody>\n          { items.map(renderRow) }\n        </tbody>\n      </table>\n\n      <div className=\"total\">\n        Total: ${total}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({shoppingCart: {orderTotal, cartItems}}) => {\n  return {\n    items: cartItems,\n    total: orderTotal\n  };\n};\n\nconst mapDispatchToProps = {\n  onIncrease: bookAddedToCart,\n  onDecrease: bookRemovedFromCart,\n  onDelete: allBookRemovedFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartTable);\n","import CartTable from \"./cart-table\";\n\nexport default CartTable;","import React from \"react\";\n\nimport CartTable from \"../cart-table\";\n\nconst CartPage = () => {\n  return (\n    <CartTable />\n  );\n};\n\nexport default CartPage;","import App from \"./app\";\n\nexport default App;","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Header from \"../header\";\nimport { CartPage, HomePage } from \"../pages\";\n\nconst App = () => {\n\n  return (\n    <main role={'main'} className={'container'}>\n      <Header numItems={5} />\n      <Switch>\n        <Route path={\"/redux-store\"} component={HomePage}  exact />\n        <Route path={\"/cart\"} component={CartPage} />\n      </Switch>\n    </main>\n  );\n};\n\nexport default App;","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport store from \"./store\";\nimport ErrorBoundary from \"./components/error-boundary\";\nimport { BookstoreServiceProvider } from \"./components/bookstore-service-context\"\nimport { BookstoreService } from \"./services\";\nimport App from \"./components/app\";\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}